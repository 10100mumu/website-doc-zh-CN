# 日期时间

```javascript
/**
 * 获取当前时间
 * @returns
 */
function GetNow() {
  const yy = new Date().getFullYear();
  const MM =
    new Date().getMonth() + 1 < 10
      ? "0" + (new Date().getMonth() + 1)
      : new Date().getMonth() + 1;
  const dd =
    new Date().getDate() < 10
      ? "0" + new Date().getDate()
      : new Date().getDate();
  const HH =
    new Date().getHours() < 10
      ? "0" + new Date().getHours()
      : new Date().getHours();
  const mm =
    new Date().getMinutes() < 10
      ? "0" + new Date().getMinutes()
      : new Date().getMinutes();
  const ss =
    new Date().getSeconds() < 10
      ? "0" + new Date().getSeconds()
      : new Date().getSeconds();
  return yy + "-" + MM + "-" + dd + " " + HH + ":" + mm + ":" + ss;
}

/**
 * 获取n秒后的时间
 * @param {*} second
 * @returns
 */
function AddMin(second) {
  var timestamp = parseInt(Date.now() / 1000) + parseInt(second);

  var date = new Date(timestamp * 1000); //时间戳为10位需*1000，时间戳为13位的话不需乘1000
  var Y = date.getFullYear() + "-";
  var M =
    (date.getMonth() + 1 < 10
      ? "0" + (date.getMonth() + 1)
      : date.getMonth() + 1) + "-";
  var D = date.getDate();
  var h = date.getHours();
  var m = date.getMinutes();
  var s = date.getSeconds();
  if (h < 10) {
    h = "0" + h;
  }
  if (m < 10) {
    m = "0" + m;
  }
  if (s < 10) {
    s = "0" + s;
  }
  if (D < 10) {
    D = "0" + D;
  }
  return Y + M + D + " " + h + ":" + m + ":" + s;
}

/**
 * 时间戳变成时间字符串
 * @param {*} timestamp
 * @returns
 */
function TimeToString(timestamp) {
  var date = new Date(timestamp * 1000); //时间戳为10位需*1000，时间戳为13位的话不需乘1000
  var Y = date.getFullYear() + "-";
  var M =
    (date.getMonth() + 1 < 10
      ? "0" + (date.getMonth() + 1)
      : date.getMonth() + 1) + "-";
  var D = date.getDate();
  var h = date.getHours();
  var m = date.getMinutes();
  var s = date.getSeconds();
  if (h < 10) {
    h = "0" + h;
  }
  if (m < 10) {
    m = "0" + m;
  }
  if (s < 10) {
    s = "0" + s;
  }
  if (D < 10) {
    D = "0" + D;
  }
  return Y + M + D + " " + h + ":" + m + ":" + s;
}

/**
 * 时间字符串变成时间戳
 * @param {*} timeString
 * @returns
 */
function StringTotime(timeString) {
  return parseInt(Date.parse(timeString) / 1000);
}

/**
 * 判断是否过期:大于0说明过期,小于0说明没有过期
 * @param {*} start_time
 * @returns
 */
function TimeDiff(start_time) {
  var now = parseInt(Date.now() / 1000);
  var target = parseInt(Date.parse(start_time) / 1000);
  return now - target;
}
```
