# YAO 编程基础

YAO 应用引擎是给专业开发者使用的应用开发和运行时工具， 熟悉 JavaScript/HTML/CSS 和基本数据库查询，即可实现大部分功能。

阅读基础文档，需要有基础的编程经验，熟悉基本数据库操作。

阅读进阶文档，需了解 RESTFul API，可以熟练使用 JavaScript 脚本语言，了解 HTML/CSS 等。

阅读专家文档，需掌握 Go 编程语言，熟悉 Linux 操作系统。

下表为使用 YAO 开发不同类型应用，对开发者的能力要求:

| 构建应用       | 等级 | 数据库             | RESTFul API | JavaScript | HTML/CSS/VUE/React/其他 | Golang |
| -------------- | ---- | ------------------ | ----------- | ---------- | ----------------------- | ------ |
| 简易管理后台   | 基础 | 熟悉基本查询       | -           | -          | -                       | -      |
| 简易业务系统   | 基础 | 熟悉基本查询       | 可对接      | 了解       | -                       | -      |
| C 端页面/应用  | 基础 | -                  | 可对接      | 了解       | 熟练                    | -      |
| 复杂业务系统   | 进阶 | 具备数据表设计能力 | 可设计      | 掌握       | 了解                    | -      |
| 复杂管理后台   | 进阶 | 具备数据表设计能力 | 可设计      | 掌握       | 了解                    | -      |
| 自建低代码平台 | 专家 | 具备数据表设计能力 | 可设计      | 掌握       | 熟练                    | -      |
| 参与代码贡献   | 专家 | 具备数据表设计能力 | 可设计      | 掌握       | 熟练                    | 掌握   |

## 基础概念

### YAO DSL

领域特定语言 DSL (domain specific language), 是专门针对特定应用领域的计算机语言。

YAO 根据业务特性，定义了一套 YAO DSL，用来描述数据结构、数据流、API 接口、并发任务、计划任务、Socket 服务等功能模块，这些功能模块被定义为 Widget。
YAO DSL 和 YAO Widget 支持根据自身业务特征定义扩展，这让基于 YAO 构建符合自身业务特征的低代码平台变得更加容易。

YAO DSL 有多种编写方式:

1. 手工编写
2. 根据上下文逻辑用程序生成
3. 使用可视化编辑器生成

通过这种编码方式，可以有效提升生产力, 降低复制粘贴错误率，同时也让用程序编写程序成为可能。

### YAO Widget

Widget 抽象出一个功能模块的通用部分,使用 DSL 描述差异,实现快速复制，提升开发效率的目的。Yao 提供一组内建 Widgets, 覆盖大部分常用功能。

YAO 内建多个 Widgets 和 XGEN 界面引擎，通过编写 DSL，实现各种特定功能。

Widget 使用 YAO DSL 编写, 服务启动时, 应用引擎将其解析为一组处理器和 API 接口。

通常来说, 每种 Widget 对应一个 DSL 文件目录, 每个文件是一个 Widget 实例。

DSL 文件是一个 JSON 格式的文本, 编写体验与 HTML 相似, HTML 描述页面元素, DSL 用来描述功能。

DSL 文件名(不含扩展名) 作为 `Widget ID`, 如包含目录，则将 `/` 替换为 `.`

**内建 Widgets:**

| Widget           | 说明                                                                                                                   |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------- |
| App              | APP Widget 每一个应用只有一个 [查看文档](../手册/Widgets/App)                                                          |
| Model            | 数据模型 用于描述数据表结构 [查看文档](../手册/Widgets/Model)                                                          |
| Store            | Key-Value 存储 [查看文档](../手册/Widgets/Store)                                                                       |
| Flow             | 数据流 用于编排处理器调用逻辑 [查看文档](../手册/Widgets/Flow)                                                         |
| API              | REST API 用于编写 RESTFul API [查看文档](../手册/Widgets/API)                                                          |
| Connector        | 连接器 用于连接 Redis, Mongo, MySQL, ES 等外部服务, 连接器可与 Model, Store 关联 [查看文档](../手册/Widgets/Connector) |
| Task             | 并发任务 [查看文档](../手册/Widgets/Task)                                                                              |
| Schedule         | 计划任务 [查看文档](../手册/Widgets/Schedule)                                                                          |
| WebSocket Server | WebSocket Server[查看文档](../手册/Widgets/WebSocket)                                                                  |
| WebSocket Client | WebSocket Client[查看文档](../手册/Widgets/WebSocket)                                                                  |
| Socket           | Socket Server/Client [查看文档](../手册/Widgets/Socket)                                                                |
| Import           | 数据导入 可以与表格界面关联 [查看文档](../手册/Widgets/Import)                                                         |
| Login            | 登录界面 [查看文档](../手册/Widgets/Login)                                                                             |
| Table            | 表格界面 [查看文档](../手册/Widgets/Table)                                                                             |
| Form             | 表单界面 [查看文档](../手册/Widgets/Form)                                                                              |
| Chart            | 图表界面 [查看文档](../手册/Widgets/Chart)                                                                             |

[使用 Widgets 文档](使用Widgets)

### YAO Process

Yao 基于 flow-based 编程思想, 一切皆为处理器。处理器可以用于 Flow, API, Table, Task 等 Widgets 中，用这种方式，实现各种特定业务逻辑。

Yao 提供一组数据原子操作、网络请求、流程控制等一系列的处理器。这些处理器可以在命令行、Widget、Script、云函数和 Studio 脚本中使用。

**内建处理器:**

| 处理器                | 说明                                                        |
| --------------------- | ----------------------------------------------------------- |
| models.<ID\>.\*       | 数据模型原子操作 [查看文档](../手册/处理器/Model)           |
| schemas.<ID\>.\*      | 数据表结构操作 [查看文档](../手册/处理器/Schema)            |
| stores.<ID\>.\*       | 数据存储 [查看文档](../手册/处理器/Store)                   |
| session.\*            | 会话数据 [查看文档](../手册/处理器/Session)                 |
| fs.\*                 | 文件系统 [查看文档](../手册/处理器/Network)                 |
| http.\*               | HTTP 请求 [查看文档](../手册/处理器/Session)                |
| encoding.<METHOD\>.\* | 编码 [查看文档](../手册/处理器/Encoding)                    |
| crypto.\*             | 加密 [查看文档](../手册/处理器/Crypto)                      |
| ssl.\*                | ssl.Sign & ssl.Verify [查看文档](../手册/处理器/SSL)        |
| tasks.<ID\>.\*        | 异步任务 [查看文档](../手册/处理器/Task)                    |
| schedules.<ID\>.\*    | 计划任务 [查看文档](../手册/处理器/Schedule)                |
| utils.\*              | 一组实用程序 [查看文档](../手册/处理器/Utils)               |
| flows.<ID\>           | 使用 Flow 编写的处理器 [查看文档](逻辑编排)                 |
| scripts.<ID\>.\*      | 使用 Script 脚本编写的处理器 [查看文档](逻辑编排)           |
| plugins.<ID\>.\*      | 使用 GRPC 插件编写处理器 [查看文档](../进阶/编写插件)       |
| widgets.<NAME\>.\*    | 自定义 Widget 导出的的处理器 [查看文档](../专家/编写Widget) |

内建 Widgets 的处理器:

| Widget | 处理器        | 说明                                                  |
| ------ | ------------- | ----------------------------------------------------- |
| App    | yao.app.\*    | App Widget 处理器 [查看文档](../手册/处理器/App)      |
| Login  | yao.login.\*  | Login Widget 处理器 [查看文档](../手册/处理器/Login)  |
| Table  | yao.table.\*  | Table Widget 处理器 [查看文档](../手册/处理器/Table)  |
| Form   | yao.form.\*   | Form Widget 处理器 [查看文档](../手册/处理器/Form)    |
| Chart  | yao.chart.\*  | Chart Widget 处理器 [查看文档](../手册/处理器/Chart)  |
| Import | yao.import.\* | Import Widget 处理器 [查看文档](../手册/处理器/Chart) |

[使用使用处理器文档](使用处理器)

### 关系数据库

关系数据库，是创建在关系模型基础上的数据库，借助于集合代数等数学概念和方法来处理数据库中的数据。现实世界中的各种实体以及实体之间的各种联系均用关系模型来表示。关系模型是由埃德加·科德于 1970 年首先提出的，并配合“科德十二定律”。现如今虽然对此模型有一些批评意见，但它还是数据存储的传统标准。标准数据查询语言 SQL 就是一种基于关系数据库的语言，这种语言执行对关系数据库中数据的检索和操作。

关系模型由关系数据结构、关系操作集合、关系完整性约束三部分组成。 [维基百科链接](https://zh.wikipedia.org/wiki/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93)

YAO 支持的关系数据库版本

| 数据库   | 版本  | 说明     |
| -------- | ----- | -------- |
| MySQL    | 5.7.x |          |
| MySQL    | 8.0.x |          |
| SQLite   | 3.x   |          |
| Postgres | 9.6   | 即将支持 |
| Postgres | 14    | 即将支持 |

### Web Server

Web Server，通过 HTTP 协议或 HTTPS 协议 接受请求， 根据客户端(浏览器)请求内容，应答响应。 [维基百科链接](https://en.wikipedia.org/wiki/Web_server)

### HTTP 协议

超文本传输协议 (HTTP) 是 Internet 协议套件模型中的一个应用层协议，用于分布式、协作、超媒体信息系统。[维基百科链接](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol)

### REST API

REST API 也称为 RESTful API，是遵循 REST 架构规范的应用编程接口（API 或 Web API），支持与 RESTful Web 服务进行交互。REST 是表述性状态传递的英文缩写，由计算机科学家 Roy Fielding 创建。

[维基百科链接](https://en.wikipedia.org/wiki/Representational_state_transfer)

<Div style={{ display: "flex", justifyContent: "right" }}>
  <Link type="next" title="如何寻求帮助" link="基础/如何寻求帮助"></Link>
</Div>
